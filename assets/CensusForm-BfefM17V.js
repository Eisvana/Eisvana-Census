import{d as ee,u as se,s as pe,o as w,c as E,a as d,b as Te,t as z,e as g,f as At,w as k,v as Yt,g as M,F as U,h as de,i as Et,j as vn,k as O,l as et,m as ve,n as bn,p as yn,r as ie,q as Ht,x as qe,y as Vt,_ as Ae,z as N,A as wn,B as je,C as jt,D as kt,E as Dn,G as _t,H as We,I as Kt,J as Zt,K as rt,L as En,M as _n,N as Sn,O as In,P as Tn,Q as Cn,R as Mt}from"./main-DjwDBjVt.js";import{s as kn}from"./censusSubmission-DJLFKt0F.js";import{b as xn,d as Pn}from"./delay-RzU4WgG3.js";const On={class:"subtitle"},Nn={class:"text-bold"},An=ee({__name:"TimezoneQuestions",setup(e){const t=se(),{playerData:n}=pe(t);return(e,t)=>(w(),E(U,null,[d("article",null,[t[5]||(t[5]=d("p",{class:"question",id:"timezone-input"}," [OPTIONAL] Timezone ",-1)),d("p",On,[t[2]||(t[2]=Te(" Detected timezone: ")),d("span",Nn,z(g(At)),1),t[3]||(t[3]=d("br",null,null,-1)),t[4]||(t[4]=Te(" This will be used to plan future events accordingly. This information will remain private and will only be shared with Eisvana Leadership. "))]),d("label",null,[d("span",null,"Share timezone ("+z(g(At))+")",1),k(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g(n).shareTimezone=e),"aria-labelledby":"timezone-input",type:"checkbox"},null,512),[[Yt,g(n).shareTimezone,void 0,{trim:!0}]])])]),d("article",null,[t[6]||(t[6]=d("p",{class:"question",id:"activity-input"}," [OPTIONAL] In this time zone, when do you play No Man's Sky the most? ",-1)),t[7]||(t[7]=d("p",{class:"subtitle"}," I. e. mornings, afternoon, evenings, late night, 9 AM to 12 PM, etc. This is used in order to better plan events. ",-1)),k(d("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g(n).activeTime=e),"aria-labelledby":"activity-input",type:"text"},null,512),[[M,g(n).activeTime,void 0,{trim:!0}]])])],64))}}),Vn=["aria-invalid","pattern"],Mn={key:0,class:"error"},Fn=["aria-invalid"],$n={key:0,class:"error"},Un={key:0},Rn=["aria-invalid"],Xn={key:0,class:"error"},Bn=["aria-invalid"],Gn={key:0,class:"error"},Ln=["aria-invalid"],qn={key:0,class:"error"},Wn=["aria-invalid"],zn={key:0,class:"error"},Yn=ee({__name:"PlayerData",setup(e){const t=se(),{playerData:n,validation:a,isDiscordValid:i,isRedditValid:o,isFriendValid:l,isNameValid:r,isSocialValid:s}=pe(t),{friend:u,wikiName:c}=de(n.value),{wikiUserExists:p}=de(a.value);return Et((async()=>p.value=!c.value||await bn(c.value))),Et((()=>u.value=u.value.toUpperCase())),(e,t)=>(w(),E(U,null,[d("article",null,[t[7]||(t[7]=d("p",{class:"question required",id:"discord-name"}," What is your Discord name? ",-1)),t[8]||(t[8]=d("p",{class:"subtitle"},"Please enter your username, not your display name.",-1)),k(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g(n).discord=e),"aria-invalid":!g(i)||void 0,pattern:g(vn),"aria-labelledby":"discord-name",type:"text"},null,8,Vn),[[M,g(n).discord,void 0,{trim:!0}]]),g(i)?O("",!0):(w(),E("p",Mn," Use your username, not your display name "))]),d("article",null,[t[9]||(t[9]=d("p",{class:"question",id:"reddit-name"}," What is your Reddit name? ",-1)),k(d("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g(n).reddit=e),"aria-invalid":!g(o)||void 0,"aria-labelledby":"reddit-name",type:"text"},null,8,Fn),[[M,g(n).reddit,void 0,{trim:!0}]]),g(o)?O("",!0):(w(),E("p",$n," Please use your Reddit username without the u/ "))]),g(n).reddit?O("",!0):(w(),E("article",Un,[t[10]||(t[10]=d("p",{class:"question",id:"social-name"}," Social media link if you don't have Reddit ",-1)),t[11]||(t[11]=d("p",{class:"subtitle"}," If you don't have Reddit, do you have a different social media account that you'd like to have on the census (Facebook, Instagram, etc.)? Please put the full link here. ",-1)),k(d("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g(n).social=e),"aria-invalid":!g(s)||void 0,"aria-labelledby":"social-name",type:"text"},null,8,Rn),[[M,g(n).social,void 0,{trim:!0}]]),g(s)?O("",!0):(w(),E("p",Xn," Please give a link to that profile. "))])),d("article",null,[t[12]||(t[12]=d("p",{class:"question",id:"wiki-name"}," If you have a NMS Fandom wiki account, what's its name? (else leave empty) ",-1)),k(d("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>g(n).wikiName=e),"aria-invalid":!g(p)||void 0,"aria-labelledby":"wiki-name",type:"text"},null,8,Bn),[[M,g(n).wikiName,void 0,{trim:!0,lazy:!0}]]),g(p)?O("",!0):(w(),E("p",Gn," This wiki user doesn't exist! "))]),d("article",null,[t[13]||(t[13]=d("p",{class:"question required",id:"ingame-name"}," What is your ingame name? ",-1)),t[14]||(t[14]=d("p",{class:"subtitle"},"Found on the top left in your inventory/pause menu. Exclude any game titles.",-1)),k(d("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>g(n).player=e),"aria-invalid":!g(r)||void 0,"aria-labelledby":"ingame-name",type:"text"},null,8,Ln),[[M,g(n).player,void 0,{trim:!0}]]),g(r)?O("",!0):(w(),E("p",qn," Please enter your ingame name, not your platform "))]),d("article",null,[t[15]||(t[15]=d("p",{class:"question",id:"friend-code"}," No Man's Sky Friend Code ",-1)),t[16]||(t[16]=d("p",{class:"subtitle"},'Please enter your friend code in the following format: "XXXX-XXXX-XXXXX" including dashes.',-1)),k(d("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>g(n).friend=e),"aria-invalid":!g(l)||void 0,"aria-labelledby":"friend-code",type:"text"},null,8,Wn),[[M,g(n).friend,void 0,{trim:!0,lazy:!0}]]),g(l)?O("",!0):(w(),E("p",zn," Format must be as follows: XXXX-XXXX-XXXXX "))]),g(et)?(w(),E(U,{key:1},[d("article",null,[t[17]||(t[17]=d("p",{class:"question required",id:"arrival-date"}," Date of Arrival ",-1)),t[18]||(t[18]=d("p",{class:"subtitle"},"When did you arrive in Eisvana space?",-1)),k(d("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>g(n).arrival=e),"aria-labelledby":"arrival-date",type:"date"},null,512),[[M,g(n).arrival,void 0,{trim:!0}]])]),ve(An)],64)):O("",!0)],64))}});function Hn(e,t){const{target:n}=e;if(!(n instanceof HTMLInputElement))return;const a="number"==typeof t.value?parseInt(n.value):n.value;t.value===a&&(t.value=void 0)}const jn={class:"radio-select"},Kn=["for"],Zn=["id","name","value"],Jn={key:0,class:"radio-select-item-other"},Qn=["for"],ei=["id","name","value"],ti=["id"],ni=ee({__name:"MultipleChoice",props:yn({items:{},name:{},other:{type:Boolean}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ie(null),n=Ht(e,"modelValue"),a=ie(""),i=e=>Hn(e,n),o=()=>n.value=a.value,l=()=>t.value?.focus();return(e,r)=>(w(),E("div",jn,[(w(!0),E(U,null,qe(e.items,((t,a)=>(w(),E("label",{for:`${e.name}-${a}`,key:a,class:"multiple-choice-label"},[k(d("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>n.value=e),id:`${e.name}-${a}`,name:e.name,value:a,type:"radio",onClick:i},null,8,Zn),[[Vt,n.value,void 0,{trim:!0}]]),d("span",null,z(t),1)],8,Kn)))),128)),e.other?(w(),E("div",Jn,[d("label",{for:`${e.name}-other`,class:"other-input-label"},[k(d("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>n.value=e),id:`${e.name}-other`,name:e.name,value:a.value,type:"radio",onClick:i,onChange:l},null,40,ei),[[Vt,n.value,void 0,{trim:!0}]]),r[3]||(r[3]=d("span",null,"Other:",-1))],8,Qn),k(d("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>a.value=e),id:`${e.name}-other-input`,class:"input-other",ref_key:"otherInput",ref:t,type:"text",onInput:o},null,40,ti),[[M,a.value,void 0,{trim:!0}]])])):O("",!0)]))}}),Ft=Ae(ni,[["__scopeId","data-v-51f52521"]]),ii={class:"glyph-input"},oi={class:"glyph-input-wrapper"},ai=["aria-invalid","maxlength"],ri={key:0,class:"error"},li={class:"portal-buttons grid"},si=["onClick"],ui={class:"glyph-display-wrapper"},di={class:"glyphs"},ci=ee({__name:"GlyphInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=/[0-9A-F]/,n=Ht(e,"modelValue"),a=N((()=>n.value.slice(4)in wn));function i(){n.value=n.value.slice(0,-1)}Et((()=>n.value=n.value.toUpperCase().split("").filter((e=>t.test(e))).join("")));const o=e=>e.toString(16).toUpperCase();return(e,t)=>(w(),E("div",ii,[d("div",oi,[k(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"aria-invalid":n.value.length===g(je)&&!a.value||void 0,maxlength:g(je),"aria-labelledby":"glyph-input",class:"glyphs-input",type:"text"},null,8,ai),[[M,n.value,void 0,{trim:!0}]]),d("button",{class:"delete-button is-danger",type:"button",onClick:i}," ← Delete ")]),n.value.length!==g(je)||a.value?O("",!0):(w(),E("p",ri," Glyphs are outside of Eisvana space! ")),d("div",li,[(w(),E(U,null,qe(16,(e=>d("button",{class:"button glyphs",type:"button",onClick:t=>function(e){n.value.length<je&&(n.value+=e)}(o(e-1))},z(o(e-1)),9,si))),64))]),k(d("p",ui,[d("output",di,z(n.value),1)],512),[[jt,n.value]])]))}}),pi=Ae(ci,[["__scopeId","data-v-e83f6752"]]);
/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce.apply(this,arguments)}function mi(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function hi(e,t){if(null==e)return{};var n,a,i=mi(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gi="1.15.3";function ue(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var fe=ue(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ze=ue(/Edge/i),Ut=ue(/firefox/i),Re=ue(/safari/i)&&!ue(/chrome/i)&&!ue(/android/i),Jt=ue(/iP(ad|od|hone)/i),Qt=ue(/chrome/i)&&ue(/android/i),en={capture:!1,passive:!1};function I(e,t,n){e.addEventListener(t,n,!fe&&en)}function S(e,t,n){e.removeEventListener(t,n,!fe&&en)}function lt(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function tn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ne(e,t,n,a){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&lt(e,t):lt(e,t))||a&&e===n)return e;if(e===n)break}while(e=tn(e))}return null}var Xe,Rt=/\s+/g;function K(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(Rt," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(Rt," ")}}function b(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];!(t in a)&&-1===t.indexOf("webkit")&&(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function Oe(e,t){var n="";if("string"==typeof e)n=e;else do{var a=b(e,"transform");a&&"none"!==a&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function nn(e,t,n){if(e){var a=e.getElementsByTagName(t),i=0,o=a.length;if(n)for(;i<o;i++)n(a[i],i);return a}return[]}function re(){return document.scrollingElement||document.documentElement}function V(e,t,n,a,i){if(e.getBoundingClientRect||e===window){var o,l,r,s,u,d,c;if(e!==window&&e.parentNode&&e!==re()?(l=(o=e.getBoundingClientRect()).top,r=o.left,s=o.bottom,u=o.right,d=o.height,c=o.width):(l=0,r=0,s=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!fe))do{if(i&&i.getBoundingClientRect&&("none"!==b(i,"transform")||n&&"static"!==b(i,"position"))){var p=i.getBoundingClientRect();l-=p.top+parseInt(b(i,"border-top-width")),r-=p.left+parseInt(b(i,"border-left-width")),s=l+o.height,u=r+o.width;break}}while(i=i.parentNode);if(a&&e!==window){var h=Oe(i||e),m=h&&h.a,f=h&&h.d;h&&(s=(l/=f)+(d/=f),u=(r/=m)+(c/=m))}return{top:l,left:r,bottom:s,right:u,width:c,height:d}}}function Xt(e,t,n){for(var a=ye(e,!0),i=V(e)[t];a;){if(!(i>=V(a)[n]))return a;if(a===re())break;a=ye(a,!1)}return!1}function Ne(e,t,n,a){for(var i=0,o=0,l=e.children;o<l.length;){if("none"!==l[o].style.display&&l[o]!==y.ghost&&(a||l[o]!==y.dragged)&&ne(l[o],n.draggable,e,!1)){if(i===t)return l[o];i++}o++}return null}function xt(e,t){for(var n=e.lastElementChild;n&&(n===y.ghost||"none"===b(n,"display")||t&&!lt(n,t));)n=n.previousElementSibling;return n||null}function Q(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==y.clone&&(!t||lt(e,t))&&n++;return n}function Bt(e){var t=0,n=0,a=re();if(e)do{var i=Oe(e),o=i.a,l=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*l}while(e!==a&&(e=e.parentNode));return[t,n]}function vi(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n);return-1}function ye(e,t){if(!e||!e.getBoundingClientRect)return re();var n=e,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=b(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return re();if(a||t)return n;a=!0}}}while(n=n.parentNode);return re()}function bi(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ft(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function on(e,t){return function(){if(!Xe){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Xe=setTimeout((function(){Xe=void 0}),t)}}}function yi(){clearTimeout(Xe),Xe=void 0}function an(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function rn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function ln(e,t,n){var a={};return Array.from(e.children).forEach((function(i){var o,l,r,s;if(ne(i,t.draggable,e,!1)&&!i.animated&&i!==n){var u=V(i);a.left=Math.min(null!==(o=a.left)&&void 0!==o?o:1/0,u.left),a.top=Math.min(null!==(l=a.top)&&void 0!==l?l:1/0,u.top),a.right=Math.max(null!==(r=a.right)&&void 0!==r?r:-1/0,u.right),a.bottom=Math.max(null!==(s=a.bottom)&&void 0!==s?s:-1/0,u.bottom)}})),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var j="Sortable"+(new Date).getTime();function wi(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==b(e,"display")&&e!==y.ghost){t.push({target:e,rect:V(e)});var n=le({},t[t.length-1].rect);if(e.thisAnimationDuration){var a=Oe(e,!0);a&&(n.top-=a.f,n.left-=a.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(vi(t,{target:e}),1)},animateAll:function(n){var a=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,l=n.fromRect,r=V(n),s=n.prevFromRect,u=n.prevToRect,d=e.rect,c=Oe(n,!0);c&&(r.top-=c.f,r.left-=c.e),n.toRect=r,n.thisAnimationDuration&&ft(s,r)&&!ft(l,r)&&(d.top-r.top)/(d.left-r.left)==(l.top-r.top)/(l.left-r.left)&&(t=Ei(d,s,u,a.options)),ft(r,l)||(n.prevFromRect=l,n.prevToRect=r,t||(t=a.options.animation),a.animate(n,d,r,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,a){if(a){b(e,"transition",""),b(e,"transform","");var i=Oe(this.el),o=i&&i.a,l=i&&i.d,r=(t.left-n.left)/(o||1),s=(t.top-n.top)/(l||1);e.animatingX=!!r,e.animatingY=!!s,b(e,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=Di(e),b(e,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),b(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){b(e,"transition",""),b(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),a)}}}}function Di(e){return e.offsetWidth}function Ei(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}var Ce=[],mt={initializeByDefault:!0},Ye={mount:function(e){for(var t in mt)mt.hasOwnProperty(t)&&!(t in e)&&(e[t]=mt[t]);Ce.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Ce.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var i=e+"Global";Ce.forEach((function(a){t[a.pluginName]&&(t[a.pluginName][i]&&t[a.pluginName][i](le({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](le({sortable:t},n)))}))},initializePlugins:function(e,t,n,a){for(var i in Ce.forEach((function(a){var i=a.pluginName;if(e.options[i]||a.initializeByDefault){var o=new a(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,ce(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);typeof o<"u"&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return Ce.forEach((function(a){"function"==typeof a.eventProperties&&ce(n,a.eventProperties.call(t[a.pluginName],e))})),n},modifyOption:function(e,t,n){var a;return Ce.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(a=i.optionListeners[t].call(e[i.pluginName],n))})),a}};function _i(e){var t=e.sortable,n=e.rootEl,a=e.name,i=e.targetEl,o=e.cloneEl,l=e.toEl,r=e.fromEl,s=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[j]){var f,g=t.options,v="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||fe||ze?(f=document.createEvent("Event")).initEvent(a,!0,!0):f=new CustomEvent(a,{bubbles:!0,cancelable:!0}),f.to=l||n,f.from=r||n,f.item=i||n,f.clone=o,f.oldIndex=s,f.newIndex=u,f.oldDraggableIndex=d,f.newDraggableIndex=c,f.originalEvent=p,f.pullMode=h?h.lastPutMode:void 0;var b=le(le({},m),Ye.getEventProperties(a,t));for(var y in b)f[y]=b[y];n&&n.dispatchEvent(f),g[v]&&g[v].call(t,f)}}var Si=["evt"],H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,i=hi(n,Si);Ye.pluginEvent.bind(y)(e,t,le({dragEl:h,parentEl:P,ghostEl:D,rootEl:C,nextEl:Ie,lastDownEl:nt,cloneEl:x,cloneHidden:be,dragStarted:Fe,putSortable:$,activeSortable:y.active,originalEvent:a,oldIndex:Pe,oldDraggableIndex:Be,newIndex:Z,newDraggableIndex:ge,hideGhostForTarget:cn,unhideGhostForTarget:pn,cloneNowHidden:function(){be=!0},cloneNowShown:function(){be=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:a})}},i))};function W(e){_i(le({putSortable:$,cloneEl:x,targetEl:h,rootEl:C,oldIndex:Pe,oldDraggableIndex:Be,newIndex:Z,newDraggableIndex:ge},e))}var h,P,D,C,Ie,nt,x,be,Pe,Z,Be,ge,Ke,$,_e,te,ht,gt,Gt,Lt,Fe,ke,Ge,it,X,xe=!1,st=!1,ut=[],Le=!1,Ze=!1,vt=[],St=!1,dt=[],pt=typeof document<"u",Je=Jt,qt=ze||fe?"cssFloat":"float",Ii=pt&&!Qt&&!Jt&&"draggable"in document.createElement("div"),sn=function(){if(pt){if(fe)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),un=function(e,t){var n=b(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Ne(e,0,t),o=Ne(e,1,t),l=i&&b(i),r=o&&b(o),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+V(i).width,u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+V(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&"none"!==l.float){var d="left"===l.float?"left":"right";return!o||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return i&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||s>=a&&"none"===n[qt]||o&&"none"===n[qt]&&s+u>a)?"vertical":"horizontal"},Ti=function(e,t,n){var a=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,l=n?t.left:t.top,r=n?t.right:t.bottom,s=n?t.width:t.height;return a===l||i===r||a+o/2===l+s/2},Ci=function(e,t){var n;return ut.some((function(a){var i=a[j].options.emptyInsertThreshold;if(i&&!xt(a)){var o=V(a),l=e>=o.left-i&&e<=o.right+i,r=t>=o.top-i&&t<=o.bottom+i;if(l&&r)return n=a}})),n},dn=function(e){function t(e,n){return function(a,i,o,l){var r=a.options.group.name&&i.options.group.name&&a.options.group.name===i.options.group.name;if(null==e&&(n||r))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(a,i,o,l),n)(a,i,o,l);var s=(n?a:i).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},a=e.group;(!a||"object"!=tt(a))&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},cn=function(){!sn&&D&&b(D,"display","none")},pn=function(){!sn&&D&&b(D,"display","")};pt&&!Qt&&document.addEventListener("click",(function(e){if(st)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),st=!1,!1}),!0);var Se=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Ci(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}},ki=function(e){h&&h.parentNode[j]._isOutsideThisEl(e.target)};function y(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ce({},t),e[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return un(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==y.supportPointer&&"PointerEvent"in window&&!Re,emptyInsertThreshold:5};for(var a in Ye.initializePlugins(this,e,n),n)!(a in t)&&(t[a]=n[a]);for(var i in dn(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ii,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?I(e,"pointerdown",this._onTapStart):(I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),ut.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ce(this,wi())}function xi(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Qe(e,t,n,a,i,o,l,r){var s,u,d=e[j],c=d.options.onMove;return!window.CustomEvent||fe||ze?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=a,s.related=i||t,s.relatedRect=o||V(t),s.willInsertAfter=r,s.originalEvent=l,e.dispatchEvent(s),c&&(u=c.call(d,s,l)),u}function bt(e){e.draggable=!1}function Pi(){St=!1}function Oi(e,t,n){var a=V(Ne(n.el,0,n.options,!0)),i=ln(n.el,n.options,D);return t?e.clientX<i.left-10||e.clientY<a.top&&e.clientX<a.right:e.clientY<i.top-10||e.clientY<a.bottom&&e.clientX<a.left}function Ni(e,t,n){var a=V(xt(n.el,n.options.draggable)),i=ln(n.el,n.options,D);return t?e.clientX>i.right+10||e.clientY>a.bottom&&e.clientX>a.left:e.clientY>i.bottom+10||e.clientX>a.right&&e.clientY>a.top}function Ai(e,t,n,a,i,o,l,r){var s=a?e.clientY:e.clientX,u=a?n.height:n.width,d=a?n.top:n.left,c=a?n.bottom:n.right,p=!1;if(!l)if(r&&it<u*i){if(!Le&&(1===Ge?s>d+u*o/2:s<c-u*o/2)&&(Le=!0),Le)p=!0;else if(1===Ge?s<d+it:s>c-it)return-Ge}else if(s>d+u*(1-i)/2&&s<c-u*(1-i)/2)return Vi(t);return(p=p||l)&&(s<d+u*o/2||s>c-u*o/2)?s>d+u/2?1:-1:0}function Vi(e){return Q(h)<Q(e)?1:-1}function Mi(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function Fi(e){dt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var a=t[n];a.checked&&dt.push(a)}}function ot(e){return setTimeout(e,0)}function It(e){return clearTimeout(e)}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ke=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,i=a.preventOnFilter,o=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,u=a.filter;if(Fi(n),!h&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||a.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Re||!r||"SELECT"!==r.tagName.toUpperCase())&&!((r=ne(r,a.draggable,n,!1))&&r.animated||nt===r)){if(Pe=Q(r),Be=Q(r,a.draggable),"function"==typeof u){if(u.call(this,e,r,this))return W({sortable:t,rootEl:s,name:"filter",targetEl:r,toEl:n,fromEl:n}),H("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(a){if(a=ne(s,a.trim(),n,!1))return W({sortable:t,rootEl:a,name:"filter",targetEl:r,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());a.handle&&!ne(s,a.handle,n,!1)||this._prepareDragStart(e,l,r)}}},_prepareDragStart:function(e,t,n){var a,i=this,o=i.el,l=i.options,r=o.ownerDocument;if(n&&!h&&n.parentNode===o){var s=V(n);if(C=o,P=(h=n).parentNode,Ie=h.nextSibling,nt=n,Ke=l.group,y.dragged=h,_e={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Gt=_e.clientX-s.left,Lt=_e.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",a=function(){H("delayEnded",i,{evt:e}),y.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Ut&&i.nativeDraggable&&(h.draggable=!0),i._triggerDragStart(e,t),W({sortable:i,name:"choose",originalEvent:e}),K(h,l.chosenClass,!0))},l.ignore.split(",").forEach((function(e){nn(h,e.trim(),bt)})),I(r,"dragover",Se),I(r,"mousemove",Se),I(r,"touchmove",Se),I(r,"mouseup",i._onDrop),I(r,"touchend",i._onDrop),I(r,"touchcancel",i._onDrop),Ut&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),H("delayStart",this,{evt:e}),!l.delay||l.delayOnTouchOnly&&!t||this.nativeDraggable&&(ze||fe))a();else{if(y.eventCanceled)return void this._onDrop();I(r,"mouseup",i._disableDelayedDrag),I(r,"touchend",i._disableDelayedDrag),I(r,"touchcancel",i._disableDelayedDrag),I(r,"mousemove",i._delayedDragTouchMoveHandler),I(r,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&I(r,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(a,l.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&bt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):I(document,t?"touchmove":"mousemove",this._onTouchMove):(I(h,"dragend",this),I(C,"dragstart",this._onDragStart));try{document.selection?ot((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(xe=!1,C&&h){H("dragStarted",this,{evt:t}),this.nativeDraggable&&I(document,"dragover",ki);var n=this.options;!e&&K(h,n.dragClass,!1),K(h,n.ghostClass,!0),y.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(te){this._lastX=te.clientX,this._lastY=te.clientY,cn();for(var e=document.elementFromPoint(te.clientX,te.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(te.clientX,te.clientY))!==t;)t=e;if(h.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]){if(t[j]._onDragOver({clientX:te.clientX,clientY:te.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=tn(t));pn()}},_onTouchMove:function(e){if(_e){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=D&&Oe(D,!0),l=D&&o&&o.a,r=D&&o&&o.d,s=Je&&X&&Bt(X),u=(i.clientX-_e.clientX+a.x)/(l||1)+(s?s[0]-vt[0]:0)/(l||1),d=(i.clientY-_e.clientY+a.y)/(r||1)+(s?s[1]-vt[1]:0)/(r||1);if(!y.active&&!xe){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(D){o?(o.e+=u-(ht||0),o.f+=d-(gt||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var c="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");b(D,"webkitTransform",c),b(D,"mozTransform",c),b(D,"msTransform",c),b(D,"transform",c),ht=u,gt=d,te=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!D){var e=this.options.fallbackOnBody?document.body:C,t=V(h,!0,Je,!0,e),n=this.options;if(Je){for(X=e;"static"===b(X,"position")&&"none"===b(X,"transform")&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=re()),t.top+=X.scrollTop,t.left+=X.scrollLeft):X=re(),vt=Bt(X)}K(D=h.cloneNode(!0),n.ghostClass,!1),K(D,n.fallbackClass,!0),K(D,n.dragClass,!0),b(D,"transition",""),b(D,"transform",""),b(D,"box-sizing","border-box"),b(D,"margin",0),b(D,"top",t.top),b(D,"left",t.left),b(D,"width",t.width),b(D,"height",t.height),b(D,"opacity","0.8"),b(D,"position",Je?"absolute":"fixed"),b(D,"zIndex","100000"),b(D,"pointerEvents","none"),y.ghost=D,e.appendChild(D),b(D,"transform-origin",Gt/parseInt(D.style.width)*100+"% "+Lt/parseInt(D.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,i=n.options;H("dragStart",this,{evt:e}),y.eventCanceled?this._onDrop():(H("setupClone",this),y.eventCanceled||((x=rn(h)).removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),K(x,this.options.chosenClass,!1),y.clone=x),n.cloneId=ot((function(){H("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||C.insertBefore(x,h),n._hideClone(),W({sortable:n,name:"clone"}))})),!t&&K(h,i.dragClass,!0),t?(st=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(n,a,h)),I(document,"drop",n),b(h,"transform","translateZ(0)")),xe=!0,n._dragStartId=ot(n._dragStarted.bind(n,t,e)),I(document,"selectstart",n),Fe=!0,Re&&b(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,a,i,o=this.el,l=e.target,r=this.options,s=r.group,u=y.active,d=Ke===s,c=r.sort,p=$||u,m=this,f=!1;if(!St){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=ne(l,r.draggable,o,!0),X("dragOver"),y.eventCanceled)return f;if(h.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||m._ignoreWhileAnimating===l)return R(!1);if(st=!1,u&&!r.disabled&&(d?c||(a=P!==C):$===this||(this.lastPutMode=Ke.checkPull(this,u,h,e))&&s.checkPut(this,u,h,e))){if(i="vertical"===this._getDirection(e,l),t=V(h),X("dragOverValid"),y.eventCanceled)return f;if(a)return P=C,U(),this._hideClone(),X("revert"),y.eventCanceled||(Ie?C.insertBefore(h,Ie):C.appendChild(h)),R(!0);var g=xt(o,r.draggable);if(!g||Ni(e,i,this)&&!g.animated){if(g===h)return R(!1);if(g&&o===e.target&&(l=g),l&&(n=V(l)),!1!==Qe(C,o,h,t,l,n,e,!!l))return U(),g&&g.nextSibling?o.insertBefore(h,g.nextSibling):o.appendChild(h),P=o,F(),R(!0)}else if(g&&Oi(e,i,this)){var v=Ne(o,0,r,!0);if(v===h)return R(!1);if(n=V(l=v),!1!==Qe(C,o,h,t,l,n,e,!1))return U(),o.insertBefore(h,v),P=o,F(),R(!0)}else if(l.parentNode===o){n=V(l);var w,S,E,x=h.parentNode!==o,_=!Ti(h.animated&&h.toRect||t,l.animated&&l.toRect||n,i),k=i?"top":"left",I=Xt(l,"top","top")||Xt(h,"top","top"),T=I?I.scrollTop:void 0;if(ke!==l&&(S=n[k],Le=!1,Ze=!_&&r.invertSwap||x),0!==(w=Ai(e,l,n,i,_?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Ze,ke===l))){var O=Q(h);do{O-=w,E=P.children[O]}while(E&&("none"===b(E,"display")||E===D))}if(0===w||E===l)return R(!1);ke=l,Ge=w;var M=l.nextElementSibling,N=!1,A=Qe(C,o,h,t,l,n,e,N=1===w);if(!1!==A)return(1===A||-1===A)&&(N=1===A),St=!0,setTimeout(Pi,30),U(),N&&!M?o.appendChild(h):l.parentNode.insertBefore(h,N?M:l),I&&an(I,0,T-I.scrollTop),P=h.parentNode,void 0!==S&&!Ze&&(it=Math.abs(S-V(l)[k])),F(),R(!0)}if(o.contains(h))return R(!1)}return!1}function X(r,s){H(r,m,le({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:a,dragRect:t,targetRect:n,canSort:c,fromSortable:p,target:l,completed:R,onMove:function(n,a){return Qe(C,o,h,t,n,V(n),e,a)},changed:F},s))}function U(){X("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function R(t){return X("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(m),m!==p&&(K(h,$?$.options.ghostClass:u.options.ghostClass,!1),K(h,r.ghostClass,!0)),$!==m&&m!==y.active?$=m:m===y.active&&$&&($=null),p===m&&(m._ignoreWhileAnimating=l),m.animateAll((function(){X("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(l===h&&!h.animated||l===o&&!l.animated)&&(ke=null),!r.dragoverBubble&&!e.rootEl&&l!==document&&(h.parentNode[j]._isOutsideThisEl(e.target),!t&&Se(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function F(){Z=Q(h),ge=Q(h,r.draggable),W({sortable:m,name:"change",toEl:o,newIndex:Z,newDraggableIndex:ge,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Se),S(document,"mousemove",Se),S(document,"touchmove",Se)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Z=Q(h),ge=Q(h,n.draggable),H("drop",this,{evt:e}),P=h&&h.parentNode,Z=Q(h),ge=Q(h,n.draggable),y.eventCanceled||(xe=!1,Ze=!1,Le=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),It(this.cloneId),It(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Re&&b(document.body,"user-select",""),b(h,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(C===P||$&&"clone"!==$.lastPutMode)&&x&&x.parentNode&&x.parentNode.removeChild(x),h&&(this.nativeDraggable&&S(h,"dragend",this),bt(h),h.style["will-change"]="",Fe&&!xe&&K(h,$?$.options.ghostClass:this.options.ghostClass,!1),K(h,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==P?(Z>=0&&(W({rootEl:P,name:"add",toEl:P,fromEl:C,originalEvent:e}),W({sortable:this,name:"remove",toEl:P,originalEvent:e}),W({rootEl:P,name:"sort",toEl:P,fromEl:C,originalEvent:e}),W({sortable:this,name:"sort",toEl:P,originalEvent:e})),$&&$.save()):Z!==Pe&&Z>=0&&(W({sortable:this,name:"update",toEl:P,originalEvent:e}),W({sortable:this,name:"sort",toEl:P,originalEvent:e})),y.active&&((null==Z||-1===Z)&&(Z=Pe,ge=Be),W({sortable:this,name:"end",toEl:P,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),C=h=P=D=Ie=x=nt=be=_e=te=Fe=Z=ge=Pe=Be=ke=Ge=$=Ke=y.dragged=y.ghost=y.clone=y.active=null,dt.forEach((function(e){e.checked=!0})),dt.length=ht=gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),xi(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,i=n.length,o=this.options;a<i;a++)ne(e=n[a],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Mi(e));return t},sort:function(e,t){var n={},a=this.el;this.toArray().forEach((function(e,t){var i=a.children[t];ne(i,this.options.draggable,a,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(a.removeChild(n[e]),a.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ne(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var a=Ye.modifyOption(this,e,t);n[e]=typeof a<"u"?a:t,"group"===e&&dn(n)},destroy:function(){H("destroy",this);var e=this.el;e[j]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ut.splice(ut.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!be){if(H("hideClone",this),y.eventCanceled)return;b(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),be=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(be){if(H("showClone",this),y.eventCanceled)return;h.parentNode!=C||this.options.group.revertClone?Ie?C.insertBefore(x,Ie):C.appendChild(x):C.insertBefore(x,h),this.options.group.revertClone&&this.animate(h,x),b(x,"display",""),be=!1}}else this._hideClone()}},pt&&I(document,"touchmove",(function(e){(y.active||xe)&&e.cancelable&&e.preventDefault()})),y.utils={on:I,off:S,css:b,find:nn,is:function(e,t){return!!ne(e,t,e,!1)},extend:bi,throttle:on,closest:ne,toggleClass:K,clone:rn,index:Q,nextTick:ot,cancelNextTick:It,detectDirection:un,getChild:Ne,expando:j},y.get=function(e){return e[j]},y.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(y.utils=le(le({},y.utils),e.utils)),Ye.mount(e)}))},y.create=function(e,t){return new y(e,t)},y.version=gi;var $e,Tt,yt,wt,ct,Ue,A=[],Ct=!1;function $i(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):t.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Wt(),at(),yi()},nulling:function(){ct=Tt=$e=Ct=Ue=yt=wt=null,A.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(a,i);if(ct=e,t||this.options.forceAutoScrollFallback||ze||fe||Re){Dt(e,this.options,o,t);var l=ye(o,!0);Ct&&(!Ue||a!==yt||i!==wt)&&(Ue&&Wt(),Ue=setInterval((function(){var o=ye(document.elementFromPoint(a,i),!0);o!==l&&(l=o,at()),Dt(e,n.options,o,t)}),10),yt=a,wt=i)}else{if(!this.options.bubbleScroll||ye(o,!0)===re())return void at();Dt(e,this.options,ye(o,!1),!1)}}},ce(e,{pluginName:"scroll",initializeByDefault:!0})}function at(){A.forEach((function(e){clearInterval(e.pid)})),A=[]}function Wt(){clearInterval(Ue)}var Dt=on((function(e,t,n,a){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,s=t.scrollSpeed,u=re(),d=!1;Tt!==n&&(Tt=n,at(),$e=t.scroll,i=t.scrollFn,!0===$e&&($e=ye(n,!0)));var c=0,p=$e;do{var h=p,m=V(h),f=m.top,g=m.bottom,v=m.left,w=m.right,D=m.width,S=m.height,E=void 0,x=void 0,_=h.scrollWidth,k=h.scrollHeight,I=b(h),C=h.scrollLeft,T=h.scrollTop;h===u?(E=D<_&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),x=S<k&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(E=D<_&&("auto"===I.overflowX||"scroll"===I.overflowX),x=S<k&&("auto"===I.overflowY||"scroll"===I.overflowY));var O=E&&(Math.abs(w-o)<=r&&C+D<_)-(Math.abs(v-o)<=r&&!!C),P=x&&(Math.abs(g-l)<=r&&T+S<k)-(Math.abs(f-l)<=r&&!!T);if(!A[c])for(var M=0;M<=c;M++)A[M]||(A[M]={});(A[c].vx!=O||A[c].vy!=P||A[c].el!==h)&&(A[c].el=h,A[c].vx=O,A[c].vy=P,clearInterval(A[c].pid),(0!=O||0!=P)&&(d=!0,A[c].pid=setInterval(function(){a&&0===this.layer&&y.active._onTouchMove(ct);var t=A[this.layer].vy?A[this.layer].vy*s:0,n=A[this.layer].vx?A[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(y.dragged.parentNode[j],n,t,e,ct,A[this.layer].el)||an(A[this.layer].el,n,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&p!==u&&(p=ye(p,!1)));Ct=d}}),30),fn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,l=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var s=n||i;l();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);r(),s&&!s.el.contains(d)&&(o("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Pt(){}function Ot(){}Pt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ne(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:fn},ce(Pt,{pluginName:"revertOnSpill"}),Ot.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:fn},ce(Ot,{pluginName:"removeOnSpill"}),y.mount(new $i),y.mount(Ot,Pt);const Ui="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='936.091px'%20height='936.091px'%20viewBox='0%200%20936.091%20936.091'%20style='enable-background:new%200%200%20936.091%20936.091'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M562.292,715.212l-41.747,42.25V178.628l41.747,42.25c20.379,20.625,53.62,20.825,74.245,0.445%20c20.625-20.379,20.824-53.619,0.445-74.244L507.071,15.601c-20.379-20.626-53.62-20.825-74.245-0.445L299.554,146.837%20c-20.625,20.379-20.824,53.619-0.445,74.244c10.271,10.395,23.806,15.601,37.348,15.601c13.33,0,26.667-5.046,36.897-15.155%20l42.192-41.688v576.414l-42.192-41.688c-20.625-20.381-53.865-20.182-74.245,0.445c-20.379,20.625-20.18,53.865,0.445,74.244%20l133.272,131.682c9.83,9.713,23.089,15.154,36.898,15.154c0.104,0,0.211,0,0.315,0c13.923-0.084,27.244-5.695,37.03-15.602%20l129.911-131.479c20.38-20.625,20.181-53.865-0.444-74.244C615.912,694.386,582.67,694.585,562.292,715.212z'/%3e%3c/g%3e%3c/svg%3e",Ri={class:"gallery-item"},Xi=["href"],Bi=["alt","src"],Gi={class:"gallery-meta"},Li={class:"filename-wrapper"},qi={class:"control-buttons"},Wi=ee({__name:"GalleryItem",props:{fileItem:{}},setup(e){const t=se(),{imageData:n}=pe(t),{gallery:a}=de(n.value);function i(e,t){const n=a.value.indexOf(e);if(-1===n)throw new Error("Couldn't find item!");if("up"===t&&n)a.value.splice(n-1,0,e),a.value.splice(n+1,1);else if("down"===t&&n!==a.value.length-1){const t=a.value.filter((t=>t!==e));t.splice(n+1,0,e),a.value=t}}return(e,t)=>(w(),E("article",Ri,[d("a",{href:e.fileItem.url,class:"gallery-media",rel:"noopener noreferrer",target:"_blank"},[d("img",{alt:e.fileItem.file?.name??e.fileItem.desc,src:e.fileItem.url},null,8,Bi)],8,Xi),d("div",Gi,[d("p",Li,[t[4]||(t[4]=d("span",{class:"text-bold"},"Name: ",-1)),Te(z(e.fileItem.file?.name??e.fileItem.filename),1)]),d("div",null,[k(d("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.fileItem.desc=t),placeholder:"Description",type:"text"},null,512),[[M,e.fileItem.desc,void 0,{trim:!0}]])])]),d("div",qi,[d("button",{class:"delete-icon is-clickable",title:"Remove picture from gallery",type:"button",onClick:t[1]||(t[1]=t=>function(e){URL.revokeObjectURL(e.url),a.value=a.value.filter((t=>t!==e))}(e.fileItem))}," ❌ "),t[7]||(t[7]=d("img",{alt:"Move via drag'n'drop",class:"handle",src:Ui,title:"Move picture up or down"},null,-1)),d("button",{class:"button move-button","data-move":"up",title:"Move up",type:"button",onClick:t[2]||(t[2]=t=>i(e.fileItem,"up"))},t[5]||(t[5]=[d("svg",{height:"36",width:"36"},[d("path",{d:"M2 25h32L18 9 2 25Z"})],-1)])),d("button",{class:"button move-button","data-move":"down",title:"Move down",type:"button",onClick:t[3]||(t[3]=t=>i(e.fileItem,"down"))},t[6]||(t[6]=[d("svg",{height:"36",width:"36"},[d("path",{d:"M2 11h32L18 27 2 11Z"})],-1)]))])]))}}),zi=Ae(Wi,[["__scopeId","data-v-957d68cb"]]),Yi=["for"],Hi={class:"text-center text-bold"},ji=["id","multiple"],Ki={key:0},Zi=ee({__name:"GenericFileUpload",props:{infoboxImageInGallery:{type:Boolean},multiple:{type:Boolean},backgroundImageUrl:{},id:{},caption:{}},emits:["upload"],setup(e,{emit:t}){const n=t,a=ie(!1),i=se(),{imageData:o}=pe(i),{image:l}=de(o.value);function r(e){const{target:t}=e;if(!(t instanceof HTMLInputElement&&t.files))return;const a=u(t.files);a.length&&n("upload",a)}function s(e){a.value=!1;const t=e.dataTransfer?.files;if(!t?.length)return;const i=u(t);i.length&&n("upload",i)}function u(e){return Array.from(e).filter((e=>e.type.startsWith("image/")))}return(e,t)=>(w(),E(U,null,[d("label",{class:kt([{"drag-active":a.value},"drop-container"]),for:e.id,style:Dn(e.backgroundImageUrl?`background-image:url(${e.backgroundImageUrl})`:void 0),onDragenter:t[0]||(t[0]=e=>a.value=!0),onDragleave:t[1]||(t[1]=e=>a.value=!1),onDrop:_t(s,["prevent"]),onDragover:t[2]||(t[2]=_t((()=>{}),["prevent"]))},[d("span",Hi,z(e.caption),1),d("input",{id:e.id,multiple:e.multiple,accept:"image/*",type:"file",onChange:r},null,40,ji)],46,Yi),e.infoboxImageInGallery?(w(),E("div",Ki,z(g(l).file?.name)+" is already in the infobox and therefore wasn't added to the gallery. ",1)):O("",!0)],64))}}),mn=Ae(Zi,[["__scopeId","data-v-a21f3dff"]]),Ji=ee({__name:"FileUpload",setup(e){const t=ie(!1),n=se(),{imageData:a}=pe(n),{gallery:i,image:o}=de(a.value);function l(e){t.value=e.map((e=>e.name)).includes(o.value.file?.name??"");!function(e){for(const t of e)i.value.unshift({id:r++,desc:"",url:URL.createObjectURL(t),filename:t.name,file:t})}(t.value?e.filter((e=>e.name!==o.value.file?.name)):e)}let r=0;return(e,n)=>(w(),We(mn,{"infobox-image-in-gallery":t.value,caption:"Drop gallery files here",id:"galleryImageInput",multiple:"",onUpload:l},null,8,["infobox-image-in-gallery"]))}}),Qi={key:0,class:"gallery-preview-header"},eo=ee({__name:"Gallery",setup(e){const t=ie(null),n=ie(!1);Kt((()=>{t.value&&new y(t.value,{handle:".handle",animation:250,onUpdate:l})}));const a=se(),{imageData:i}=pe(a),{gallery:o}=de(i.value);function l(e){const t=e.oldIndex,n=e.newIndex;if("number"!=typeof t||"number"!=typeof n)return;const a=o.value.splice(t,1);o.value.splice(n,0,a[0])}const r=()=>n.value=!n.value;return(e,a)=>(w(),E(U,null,[ve(Ji),g(o).length?(w(),E("div",Qi,[a[0]||(a[0]=d("p",{class:"preview-caption has-text-weight-bold"},"Gallery Preview",-1)),d("button",{class:"show-hide-button",type:"button",onClick:r},z(n.value?"Show":"Hide"),1)])):O("",!0),k(d("div",{ref_key:"filePreview",ref:t,class:"gallery-preview"},[(w(!0),E(U,null,qe(g(o),(e=>(w(),We(zi,{key:e.id,"file-item":e},null,8,["file-item"])))),128))],512),[[jt,g(o).length&&!n.value]])],64))}}),to=Ae(eo,[["__scopeId","data-v-9a92eab3"]]),no=ee({__name:"ImageInput",setup(e){const t=se(),{imageData:n}=pe(t),{image:a}=de(n.value);function i(e){!function(e){URL.revokeObjectURL(a.value.url),a.value.file=e,a.value.filename=e.name,a.value.url=URL.createObjectURL(e)}(e[0])}return(e,t)=>(w(),We(mn,{"background-image-url":g(a).url,caption:"Drop main image here",id:"mainImageInput",onUpload:i},null,8,["background-image-url"]))}}),io=["aria-invalid"],oo={key:0,class:"error"},ao={class:"checkboxes"},ro=["onUpdate:modelValue"],lo={class:"async-section-title-wrapper"},so={key:0,class:"subtitle"},uo=["onUpdate:modelValue","aria-label"],co=ee({__name:"BaseData",setup(e){const t=se(),{baseData:n,isAxesValid:a,sectionData:i}=pe(t),{landingpad:o,terminal:l,geobay:r,farm:s,racetrack:u,arena:c}=de(n.value),p=Zt([{label:"Landing Pad",value:o},{label:"Trade Terminal",value:l},{label:"Geobay",value:r},{label:"Farm",value:s},{label:"Racetrack",value:u},{label:"Arena",value:c}]);return(e,t)=>(w(),E(U,null,[d("article",null,[t[9]||(t[9]=d("p",{class:"question required",id:"base-name"}," What is the name of your base? ",-1)),k(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g(n).baseName=e),"aria-labelledby":"base-name",type:"text"},null,512),[[M,g(n).baseName,void 0,{trim:!0}]])]),g(rt)?O("",!0):(w(),E(U,{key:0},[d("article",null,[t[10]||(t[10]=d("p",{class:"question required",id:"system-name"}," What is the name of the system where your base is? ",-1)),t[11]||(t[11]=d("p",{class:"subtitle"},"The name of the system can be seen by looking at the galaxy map in space.",-1)),k(d("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g(n).system=e),"aria-labelledby":"system-name",type:"text"},null,512),[[M,g(n).system,void 0,{trim:!0}]])]),d("article",null,[t[12]||(t[12]=d("p",{class:"question required",id:"planet-name"}," What is the name of the planet on which your base is or that is orbited by the moon on which your base is? ",-1)),k(d("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g(n).planet=e),"aria-labelledby":"planet-name",type:"text"},null,512),[[M,g(n).planet,void 0,{trim:!0}]])]),d("article",null,[t[13]||(t[13]=d("p",{class:"question",id:"moon-name"}," If your base is on a moon (else leave empty): What is the name of the moon? ",-1)),k(d("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>g(n).moon=e),"aria-labelledby":"moon-name",type:"text"},null,512),[[M,g(n).moon,void 0,{trim:!0}]])]),d("article",null,[t[14]||(t[14]=d("p",{class:"question required",id:"geo-coords"}," What are the planetary coordinates of your base? ",-1)),t[15]||(t[15]=d("p",{class:"subtitle"},"You can find the coordinates when you look through your visor. Example: -14.24, +121.12",-1)),k(d("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>g(n).axes=e),"aria-invalid":!g(a)||void 0,"aria-labelledby":"geo-coords",type:"text"},null,8,io),[[M,g(n).axes,void 0,{trim:!0,lazy:!0}]]),g(a)?O("",!0):(w(),E("p",oo," Please give the coordinates like in the example above, including + and - "))]),d("article",null,[t[16]||(t[16]=d("p",{class:"question required",id:"glyph-input"}," What are the glyphs? ",-1)),t[17]||(t[17]=d("p",{class:"subtitle"},"Glyphs can be found in photo mode",-1)),ve(pi,{modelValue:g(n).glyphs,"onUpdate:modelValue":t[5]||(t[5]=e=>g(n).glyphs=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])],64)),d("article",null,[t[18]||(t[18]=d("p",{class:"question"},"Base Features: Check all that apply:",-1)),d("div",ao,[(w(!0),E(U,null,qe(p,(e=>(w(),E("label",null,[k(d("input",{"onUpdate:modelValue":t=>e.value=t,type:"checkbox"},null,8,ro),[[Yt,e.value,void 0,{trim:!0}]]),d("span",null,z(e.label),1)])))),256))])]),g(rt)?O("",!0):(w(),E(U,{key:1},[d("article",null,[t[19]||(t[19]=d("p",{class:"question required"},"On which platform was the base built?",-1)),ve(Ft,{modelValue:g(n).platform,"onUpdate:modelValue":t[6]||(t[6]=e=>g(n).platform=e),modelModifiers:{trim:!0},items:g(En),name:"platform"},null,8,["modelValue","items"])]),d("article",null,[t[20]||(t[20]=d("p",{class:"question required"},"On which Game Mode was the base built?",-1)),ve(Ft,{modelValue:g(n).mode,"onUpdate:modelValue":t[7]||(t[7]=e=>g(n).mode=e),modelModifiers:{trim:!0},items:g(_n),name:"mode"},null,8,["modelValue","items"])])],64)),d("article",null,[t[21]||(t[21]=d("p",{class:"question",id:"base-type"}," What type of base is it? What is its purpose? ",-1)),t[22]||(t[22]=d("p",{class:"subtitle"},"Some examples are Artistic, Embassy, Farm, Industrial, Memorial and Residential.",-1)),k(d("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>g(n).type=e),"aria-labelledby":"base-type",type:"text"},null,512),[[M,g(n).type,void 0,{trim:!0}]])]),(w(!0),E(U,null,qe(g(i),(e=>(w(),E("article",{key:e.heading},[d("div",lo,[d("p",{class:kt([{required:e.required},"question"])},z(e.heading),3),e.loading?(w(),We(Sn,{key:0})):O("",!0)]),e.explanation?(w(),E("p",so,z(e.explanation),1)):O("",!0),k(d("textarea",{"onUpdate:modelValue":t=>e.body=t,"aria-label":e.heading},null,8,uo),[[M,e.body,void 0,{trim:!0}]])])))),128)),d("article",null,[t[23]||(t[23]=d("p",{class:"question required"},"Main picture",-1)),t[24]||(t[24]=d("p",{class:"subtitle"},"Picture clearly showing the entire base",-1)),ve(no)]),d("article",null,[t[25]||(t[25]=d("p",{class:"question"},"Gallery",-1)),t[26]||(t[26]=d("p",{class:"subtitle"},"Other pictures",-1)),ve(to)])],64))}}),po=Ae(co,[["__scopeId","data-v-6a8c68f1"]]),fo=ee({__name:"BaseForm",props:{page:{}},setup(e){const t=e,n={1:Yn,2:po},a=N((()=>n[t.page]));return(e,t)=>(w(),We(g(a)))}});function mo(){const e=se(),{validation:t,playerData:n,baseData:a,region:i,isDiscordValid:o,isRedditValid:l,isSocialValid:r,isNameValid:s,isFriendValid:u,isAxesValid:d,isImageDataValid:c,sectionData:p}=pe(e),{wikiUserExists:h}=de(t.value),m=Zt({discord:o,reddit:l,social:r,name:s,friend:u,wikiName:h}),{isDataValid:f,missingProps:g}=zt(n),{isDataValid:v,missingProps:b}=zt(a),{isDataValid:y,missingProps:w}=ho(m),D=N((()=>[...g.value,...w.value])),S=N((()=>f.value&&y.value)),E=N((()=>p.value.filter((e=>e.required&&!e.body)).map((e=>e.heading)))),x=N((()=>!E.value.length)),_=N((()=>v.value&&x.value&&c.value&&i.value&&d.value)),k=N((()=>[...b.value,...E.value,...c.value?[]:["image"],...i.value?[]:["region"],...d.value?[]:["axes"]]));return{isAllDataValid:N((()=>S.value&&_.value)),allMissingProps:N((()=>[...D.value,...k.value])),isPageTwoDataValid:_,missingPageTwoProps:k,isPageOneValid:S,missingPageOneProps:D}}function ho(e){const t=N((()=>Object.entries(e))),n=N((()=>t.value.filter((e=>!e[1])))),a=N((()=>n.value.map((e=>e[0]))));return{isDataValid:N((()=>!a.value.length)),missingProps:a}}function zt(e){const t=N((()=>Object.entries(e.value))),n=N((()=>t.value.filter((e=>In(e[0])&&!Tn.includes(e[0]))))),a=N((()=>n.value.filter((e=>!e[1]&&"boolean"!=typeof e[1])))),i=N((()=>a.value.map((e=>e[0]))));return{isDataValid:N((()=>!a.value.length)),missingProps:i}}const go=["href","aria-disabled"],vo={key:0},bo=["aria-busy","disabled"],yo={key:0},wo={key:1},Do={key:2},To=ee({__name:"CensusForm",setup(e){const{isAllDataValid:t,allMissingProps:n,isPageOneValid:a,missingPageOneProps:i}=mo(),o=ie(window.location.hash),l=se();o.value&&!a.value&&(window.location.hash=""),addEventListener("hashchange",(()=>o.value=window.location.hash));const r=N((()=>"#2"===o.value&&a.value?2:1)),s=ie(!1),u=ie(!1),c=ie(!1),p=ie(!1),h=et?"censusForm":Mt?"newBase":"updateBase";async function m(){u.value=!0;const e=sessionStorage.getItem("update"),t=JSON.parse(e??"{}").Name??"",n=Mt?`New Page for existing citizen. Old page: ${xn(t)}`:"Updated Base Page",a=et?"New Citizen":n;try{await kn(a),l.resetStore(),localStorage.removeItem("censusForm"),localStorage.removeItem("updateBase"),localStorage.removeItem("newBase"),localStorage.removeItem("lastUpdated"),sessionStorage.removeItem("update"),p.value=!0}catch(e){c.value=!0,console.error("Something went wrong:",e)}finally{u.value=!1,setTimeout((()=>{c.value=!1}),Pn)}}function f(){a.value&&scrollTo(0,0)}Kt((async()=>{l.fetchVersionTemplate(),rt&&(await l.fetchBaseWikiData(),l.$subscribe((()=>s.value||=!0)))}));const v=N((()=>u.value?"":c.value?"Failed!":"Submit"));return l.$subscribe(((e,t)=>{localStorage.setItem(h,JSON.stringify(t,Cn)),localStorage.setItem("lastUpdated",Date.now().toString())})),(e,o)=>(w(),E(U,null,[o[3]||(o[3]=d("h1",{class:"title"},"Eisvana Census Form",-1)),d("form",{class:"questions",onSubmit:_t(m,["prevent"])},[p.value?g(et)?(w(),E("article",wo,o[1]||(o[1]=[d("header",{class:"thank-you-wrapper"},[d("p",{class:"text-bold thank-you"},"Thank you for registering!")],-1),d("p",null,[Te(" We're excited to have you join us in Eisvana!"),d("br"),Te("We'll let you know when your submission has been processed. ")],-1),d("p",null,[Te("If you want to learn more about Eisvana, "),d("a",{href:"https://eisvana.com/"},"visit our website"),Te("!")],-1)]))):(w(),E("article",Do,o[2]||(o[2]=[d("header",{class:"thank-you-wrapper"},[d("p",{class:"text-bold thank-you"},"Thank you for updating your census entry!")],-1),d("p",null,"We'll let you know when your submission has been processed.",-1),d("p",null,"You can now close this window.",-1)]))):(w(),E(U,{key:0},[ve(fo,{page:r.value},null,8,["page"]),d("div",null,[1===r.value?(w(),E(U,{key:0},[d("a",{href:g(a)?"#2":void 0,"aria-disabled":!g(a),role:"button",onClick:f}," Continue ",8,go),g(i).length?(w(),E("p",vo,"Missing Data: "+z(g(i).join(", ")),1)):O("",!0)],64)):O("",!0),2===r.value?(w(),E(U,{key:1},[o[0]||(o[0]=d("a",{class:"secondary",href:"#",role:"button"},"Back",-1)),d("button",{"aria-busy":u.value,class:kt([{"is-danger":c.value},"submit-button"]),disabled:!g(t)||g(rt)&&!s.value,type:"submit"},z(v.value),11,bo),g(n).length?(w(),E("p",yo,"Missing Data: "+z(g(n).join(", ")),1)):O("",!0)],64)):O("",!0)])],64))],32)],64))}});export{To as default};
