import{d as h,D as f,c as r,o as a,F as d,a as u,m as p,t as g,_ as v,a0 as y,s as C,r as R,j as _,e as m,B as x,b as k,L as D,Z as j,a1 as N,a2 as P,w as S,g as B}from"./main-BdAdt98Q.js";import{R as L,P as T,r as U}from"./Pagination-DciD6SrX.js";import{r as q}from"./delay-DK_sUnzN.js";const E=h({__name:"UserRow",props:{userObject:{}},setup(e){const s=e,t=f((()=>s.userObject.CensusPlayer)),l=f((()=>s.userObject.renewed?"Already renewed":s.userObject.renewRequested?"Renewal Requested":"Request Renewal"));return(e,s)=>(a(),r(d,null,[u("div",null,g(t.value),1),p(L,{"button-text":l.value,"user-object":e.userObject,"button-text-failed":"Request Failed!"},null,8,["button-text","user-object"])],64))}}),V=v(E,[["__scopeId","data-v-e8c55d77"]]),O={class:"table"},$={key:0,class:"register-cta"},z=h({__name:"UserTable",props:{filter:{}},setup(e){const s=e,t=y(),{censusData:l}=C(t),n=R([]),o=f((()=>l.value.filter((e=>e.CensusPlayer.toLowerCase().includes(s.filter.toLowerCase()))).toSorted(((e,a)=>e.renewed===a.renewed?e.CensusPlayer.toLowerCase()>a.CensusPlayer.toLowerCase()?1:-1:e.renewed>a.renewed?1:-1)))),c=e=>n.value=e;return(e,s)=>m(l).length?(a(),r(d,{key:0},[p(T,{data:o.value,"page-size":m(U),onChange:c},null,8,["data","page-size"]),u("div",O,[(a(!0),r(d,null,x(n.value,(e=>(a(),D(V,{key:e.CensusPlayer,"user-object":e},null,8,["user-object"])))),128))]),o.value.length?_("",!0):(a(),r("div",$,s[0]||(s[0]=[k(" Not on the census?"),u("br",null,null,-1),u("a",{href:"./form.html"},"Register now!",-1)])))],64)):_("",!0)}}),F=v(z,[["__scopeId","data-v-669fbe4d"]]),I={key:0,class:"warning"},W={key:1,class:"warning"},A=h({__name:"Renew",setup(e){const s=R(""),t=j(),{triesExceeded:l}=C(t);return(e,t)=>{const n=N("search");return a(),r(d,null,[t[1]||(t[1]=u("h1",{class:"title"},"Eisvana Census Renewal",-1)),m(q)?_("",!0):(a(),r("p",I," No Webhook URL found, no message will be sent! ")),p(n,null,{default:P((()=>[S(u("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),"aria-label":"Search Name",id:"searchBar",name:"searchBar",placeholder:"Search Name",type:"search"},null,512),[[B,s.value,void 0,{trim:!0}]])])),_:1}),m(l)?(a(),r("p",W," You have requested too many renewals. Please contact Lenni on Discord for help. ")):_("",!0),p(F,{filter:s.value},null,8,["filter"])],64)}}}),G=v(A,[["__scopeId","data-v-967d52d4"]]);export{G as default};
