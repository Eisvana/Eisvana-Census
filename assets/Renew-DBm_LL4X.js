import{d as m,B as f,o as s,c as a,a as o,t as g,m as h,F as i,_ as b,a2 as x,s as v,r as R,e as d,x as y,b as k,k as p,J as C,a0 as S,w as D,g as N,z as j,A as B}from"./main-BcmTzg-h.js";import{R as P,r as q,P as E}from"./Pagination-DnG9krsP.js";import{r as I}from"./delay-hf-YbONq.js";const L=m({__name:"UserRow",props:{userObject:{}},setup(e){const t=e,l=f((()=>t.userObject.CensusPlayer)),r=f((()=>t.userObject.renewed?"Already renewed":t.userObject.renewRequested?"Renewal Requested":"Request Renewal"));return(e,t)=>(s(),a(i,null,[o("div",null,g(l.value),1),h(P,{"button-text":r.value,"user-object":e.userObject,"button-text-failed":"Request Failed!"},null,8,["button-text","user-object"])],64))}}),T=b(L,[["__scopeId","data-v-5982f1db"]]),U={class:"table"},V={key:0,class:"register-cta"},$=o("br",null,null,-1),z=o("a",{href:"./form.html"},"Register now!",-1),O=m({__name:"UserTable",props:{filter:{}},setup(e){const t=e,l=x(),{censusData:r}=v(l),n=R([]),u=f((()=>r.value.filter((e=>e.CensusPlayer.toLowerCase().includes(t.filter.toLowerCase()))))),c=e=>n.value=e;return(e,t)=>d(r).length?(s(),a(i,{key:0},[h(E,{data:u.value,"page-size":d(q),onChange:c},null,8,["data","page-size"]),o("div",U,[(s(!0),a(i,null,y(n.value,(e=>(s(),C(T,{key:e.CensusPlayer,"user-object":e},null,8,["user-object"])))),128))]),u.value.length?p("",!0):(s(),a("div",V,[k(" Not on the census?"),$,z]))],64)):p("",!0)}}),F=e=>(j("data-v-8cb4f81c"),e=e(),B(),e),A=F((()=>o("h1",{class:"title"},"Eisvana Census Renewal",-1))),W={key:0,class:"warning"},J={key:1,class:"warning"},M=m({__name:"Renew",setup(e){const t=R(""),l=S(),{triesExceeded:r}=v(l);return(e,l)=>(s(),a(i,null,[A,d(I)?p("",!0):(s(),a("p",W," No Webhook URL found, no message will be sent! ")),D(o("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),"aria-label":"Search Name",id:"searchBar",name:"searchBar",placeholder:"Search Name",type:"search"},null,512),[[N,t.value,void 0,{trim:!0}]]),d(r)?(s(),a("p",J," You have requested too many renewals. Please contact Lenni on Discord for help. ")):p("",!0),h(O,{filter:t.value},null,8,["filter"])],64))}}),Q=b(M,[["__scopeId","data-v-8cb4f81c"]]);export{Q as default};
