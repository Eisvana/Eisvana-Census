import{d as w,D as f,o as s,c as a,a as o,t as C,m as i,F as d,_ as b,a0 as x,s as R,r as g,e as p,B as y,b as k,k as _,L as D,Z as N,a1 as j,a2 as B,w as S,g as P}from"./main-CZkiOGpC.js";import{R as L,r as T,P as U}from"./Pagination-Wk4M9JSt.js";import{r as q}from"./delay-DaK10uQ6.js";const E=w({__name:"UserRow",props:{userObject:{}},setup(e){const t=e,l=f((()=>t.userObject.CensusPlayer)),r=f((()=>t.userObject.renewed?"Already renewed":t.userObject.renewRequested?"Renewal Requested":"Request Renewal"));return(e,t)=>(s(),a(d,null,[o("div",null,C(l.value),1),i(L,{"button-text":r.value,"user-object":e.userObject,"button-text-failed":"Request Failed!"},null,8,["button-text","user-object"])],64))}}),V=b(E,[["__scopeId","data-v-e8c55d77"]]),O={class:"table"},$={key:0,class:"register-cta"},z=w({__name:"UserTable",props:{filter:{}},setup(e){const t=e,l=x(),{censusData:r}=R(l),n=g([]),u=f((()=>r.value.filter((e=>e.CensusPlayer.toLowerCase().includes(t.filter.toLowerCase()))))),c=e=>n.value=e;return(e,t)=>p(r).length?(s(),a(d,{key:0},[i(U,{data:u.value,"page-size":p(T),onChange:c},null,8,["data","page-size"]),o("div",O,[(s(!0),a(d,null,y(n.value,(e=>(s(),D(V,{key:e.CensusPlayer,"user-object":e},null,8,["user-object"])))),128))]),u.value.length?_("",!0):(s(),a("div",$,t[0]||(t[0]=[k(" Not on the census?"),o("br",null,null,-1),o("a",{href:"./form.html"},"Register now!",-1)])))],64)):_("",!0)}}),F=b(z,[["__scopeId","data-v-b1a1a1f4"]]),I={key:0,class:"warning"},W={key:1,class:"warning"},A=w({__name:"Renew",setup(e){const t=g(""),l=N(),{triesExceeded:r}=R(l);return(e,l)=>{const n=j("search");return s(),a(d,null,[l[1]||(l[1]=o("h1",{class:"title"},"Eisvana Census Renewal",-1)),p(q)?_("",!0):(s(),a("p",I," No Webhook URL found, no message will be sent! ")),i(n,null,{default:B((()=>[S(o("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),"aria-label":"Search Name",id:"searchBar",name:"searchBar",placeholder:"Search Name",type:"search"},null,512),[[P,t.value,void 0,{trim:!0}]])])),_:1}),p(r)?(s(),a("p",W," You have requested too many renewals. Please contact Lenni on Discord for help. ")):_("",!0),i(F,{filter:t.value},null,8,["filter"])],64)}}}),G=b(A,[["__scopeId","data-v-967d52d4"]]);export{G as default};
